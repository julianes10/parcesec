{

  "log": { "logTraces":"/tmp/telegram.log",
           "logExceptions":"/tmp/telegrame.log"
  },
  "port":5161,
  "host":"0.0.0.0",
  "ongoingDB":"/tmp/telegramBOT.ongoing",
  "ongoingDBNV":"/var/telegramBOT.ongoing",
  "menu" : ["video", "foto", "fotoVGA", "fotoHD", "fotoFHD", "foto2K", "reboot", "time", "uptime", "coret", "test", "run", "net", "tiempo", "meteo","meteod","status","cita","lightOn","lightOff","dht","temp","hum","temph","humh","pan","tilt","panv","tiltv"],
  "pollingTimeout" : 10,
  "actions" : { 
    "foto"  : { "cmd" : "/opt/parcesec/picam/raspistillForce.sh -w 320 -h 240 -awb auto -ex auto -o /tmp/img", "image": "/tmp/img"},
    "fotoVGA"  : { "cmd" : "/opt/parcesec/picam/raspistillForce.sh -w 640 -h 480 -awb auto -ex auto -o /tmp/img", "image": "/tmp/img"},
    "fotoHD": { "cmd" : "/opt/parcesec/picam/raspistillForce.sh -w 1280 -h 720 -awb auto -ex auto -o /tmp/img", "image": "/tmp/img"},
    "fotoFHD": { "cmd" : "/opt/parcesec/picam/raspistillForce.sh -w 1920 -h 1080 -awb auto -ex auto -o /tmp/img", "image": "/tmp/img"},
    "foto2K": { "cmd" : "/opt/parcesec/picam/raspistillForce.sh -w 2048 -h 1080 -awb auto -ex auto -o /tmp/img", "image": "/tmp/img"},
    "net": { "cmd" : "cat /tmp/netMonitor.status"},
    "reboot"  : { "cmd" : "reboot"},
    "time"  : { "cmd" : "date"},
    "uptime"  : { "cmd" : "uptime"},
    "test"  : { "cmd" : "echo hola-esto-es-un-test", "hidden":false},
    "coret" : { "cmd" : "/opt/vc/bin/vcgencmd measure_temp" },
    "tiempo" : { "cmd" : "xvfb-run wkhtmltoimage /etc/prediccionCasarrubios.html /tmp/tiempo.jpg >/dev/null", "image":"/tmp/tiempo.jpg" },
    "cita" : { "cmd" : "xvfb-run wkhtmltoimage /etc/fraseDeldia.html /tmp/cita.jpg >/dev/null", "image":"/tmp/cita.jpg" },
    "meteo" : { "cmd" : "xvfb-run wkhtmltoimage --cookie 'accept_cookies' 'ok' 'http://www.aemet.es/es/eltiempo/observacion/ultimosdatos?k=clm&l=3260B&w=1&datos=img' /tmp/meteo.jpg >/dev/null", "image":"/tmp/meteo.jpg" },
    "meteod" : { "cmd" : "xvfb-run wkhtmltoimage --cookie 'accept_cookies' 'ok' 'http://www.aemet.es/es/eltiempo/observacion/ultimosdatos?k=clm&l=3260B&w=0&datos=det' /tmp/meteod.jpg >/dev/null", "image":"/tmp/meteod.jpg" },
    "status": { "cmd" : "xvfb-run wkhtmltoimage localhost:5061 /tmp/status.jpg >/dev/null", "image":"/tmp/status.jpg","hidden":true},
    "lightOn"  : { "cmd" : "/opt/parcesec/gpio/gpio.py --pin 17 --value 1"},
    "lightOff"  : { "cmd" : "/opt/parcesec/gpio/gpio.py --pin 17 --value 0"},
    "dht" : { "cmd" : "curl -i http://localhost:5056/api/v1.0/dht/sensors/now" },
    "temph" : { "cmd" : "cat /tmp/dht.t" },
    "humh" : { "cmd" : "cat /tmp/dht.h" },
    "temp" : { "cmd" : "cat /tmp/dht.t | awk '{print $NF}' | tail -1" },
    "hum" :  { "cmd" : "cat /tmp/dht.h | awk '{print $NF}' | tail -1" },
    "tilt":  { "cmd" : "/opt/parcesec/parcesec/position.sh tilt", "include-message-args":true },
    "pan":   { "cmd" : "/opt/parcesec/parcesec/position.sh pan",  "include-message-args":true },
    "panv":  { "cmd" : "/opt/parcesec/parcesec/panoramaVideo.sh p /tmp/pan.mp4","video": "/tmp/pan.mp4","include-message-args":true },
    "tiltv": { "cmd" : "/opt/parcesec/parcesec/panoramaVideo.sh t /tmp/pan.mp4","video": "/tmp/pan.mp4","include-message-args":true },
    "video": { "cmd" : "/opt/parcesec/parcesec/simpleVideo.sh /tmp/v.mp4","video": "/tmp/v.mp4","include-message-args":true },
    "run"  : { "cmd" : "TELEGRAM_COMMAND","hidden":true}
  },
  "periodic" : [
    { "action" : "uptime","interval":300},
    { "action" : "fotoHD","interval":86400, "start" : "12:00:00"},
    { "action" : "meteo","interval":86400, "start" : "23:55:00"},
    { "action" : "meteod","interval":86400, "start" : "23:56:00"},
    { "action" : "tiempo","interval":86400, "start" : "08:30:00"},
    { "action" : "cita","interval":43200, "start" : "08:59:00"},
    { "action" : "foto","interval":3600, "start" : "09:00:00"}
  ],
  "event" : [
    { "name" : "Boot", "action": "route"},
    { "name" : "NewDefaultRoute", "action": "net" }
  ],
  "eventBOOT" : [
    { "name" : "Boot"}
  ]
 }
